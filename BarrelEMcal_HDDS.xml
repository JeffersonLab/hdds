<?xml version="1.0" encoding="UTF-8"?>
<!--DOCTYPE HDDS SYSTEM "HDDS_1.0.dtd">

  Hall D Geometry Data Base: Barrel EM calorimeter
  *************************************************

     version 1.0: Initial version  -rtj
     version 1.2: Initial SiPM subsectoring -cx,zp
 
<HDDS specification="v1.0"
      xmlns="http://www.gluex.org/hdds"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.gluex.org/hdds HDDS-1_0.xsd">
-->

<section name = "BarrelEMcal"
         version = "1.0"
         date = "2001-04-15"
         author = "R.T. Jones"
         top_volume = "BCAL"
         specification = "v1.0">

<!-- Origin of BarrelEMcal is center of upstream end. -->


  <composition name="BarrelEMcal">
    <posXYZ volume="barrelEMcal" X_Y_Z="0.0 0.0 195.0" />
  </composition>

  <composition name="barrelEMcal" envelope="BCAL">
    <mposPhi volume="barrelModule" ncopy="48" Phi0="0.0" impliedRot="true">
      <module value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="barrelModule" envelope="BCAM">
    <posXYZ volume="BCALlayer_1" />
    <posXYZ volume="BCALlayer_2" />
    <posXYZ volume="BCALlayer_3" />
    <posXYZ volume="BCALlayer_4" />
    <posXYZ volume="BCALlayer_5" />
    <posXYZ volume="BCALlayer_6" />
    <posXYZ volume="BCALlayer_7" />
    <posXYZ volume="BCALlayer_8" />
    <posXYZ volume="BCALlayer_9" />
    <posXYZ volume="BCALlayer_10" />
    <posXYZ volume="BCALlayer_11" />
    <posXYZ volume="BCALlayer_12" />
  </composition>

  <composition name="BCALlayer_1" envelope="BCL1">
    <mposPhi volume="BCM1" ncopy="4" Phi0="0.0"  dPhi="1.875" impliedRot="true">
      <layer value="1" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition> 

  <composition name="BCALlayer_2" envelope="BCL2">
    <mposPhi volume="BCM2" ncopy="4" Phi0="0.0"  dPhi="1.875" impliedRot="true">
      <layer value="2" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_3" envelope="BCL3">
    <mposPhi volume="BCM3" ncopy="4" Phi0="0.0"  dPhi="1.875" impliedRot="true">
      <layer value="3" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_4" envelope="BCL4">
    <mposPhi volume="BCM4" ncopy="4" Phi0="0.0" dPhi="1.875" impliedRot="true">
      <layer value="4" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition> 


  <composition name="BCALlayer_5" envelope="BCL5">
    <mposPhi volume="BCM5" ncopy="4" Phi0="0.0" dPhi="1.875" impliedRot="true">
      <layer value="5" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>


  <composition name="BCALlayer_6" envelope="BCL6">
    <mposPhi volume="BCM6" ncopy="4" Phi0="0.0" dPhi="1.875" impliedRot="true">
      <layer value="6" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>


  <composition name="BCALlayer_7" envelope="BCL7">
    <mposPhi volume="BCM7" ncopy="4" Phi0="0.0" dPhi="1.875" impliedRot="true">
      <layer value="7" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_8" envelope="BCL8">
    <mposPhi volume="BCM8" ncopy="4" Phi0="0.0" dPhi="1.875" impliedRot="true">
      <layer value="8" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_9" envelope="BCL9">
    <mposPhi volume="BCM9" ncopy="3" Phi0="0.0" dPhi="2.5" impliedRot="true">
      <layer value="9" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>


  <composition name="BCALlayer_10" envelope="BL10">
    <mposPhi volume="BM10" ncopy="3" Phi0="0.0" dPhi="2.5" impliedRot="true">
      <layer value="10" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_11" envelope="BL11">
    <mposPhi volume="BM11" ncopy="3" Phi0="0.0" dPhi="2.5" impliedRot="true">
      <layer value="11" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition>

  <composition name="BCALlayer_12" envelope="BL12">
    <mposPhi volume="BM12" ncopy="3" Phi0="0.0" dPhi="2.5" impliedRot="true">
      <layer value="12" />
      <sector value="1" step="1" />
    </mposPhi>
  </composition> 

  <tubs name="BCAL" Rio_Z="65.0 90.0 390.0" unit_length="cm" material="Air"
        parameters="barrelEMcal_pars" comment="barrel EMcal mother" />
  <tubs name="BCAM" Rio_Z="65.0 90.0 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel calorimeter module" />

  <tubs name="BCL1" Rio_Z="65.0 66.25 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 1" />
  <tubs name="BCL2" Rio_Z="66.25 67.5 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 2" />
  <tubs name="BCL3" Rio_Z="67.5 68.75 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 3" />
  <tubs name="BCL4" Rio_Z="68.75 70.0 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 4" />
  <tubs name="BCL5" Rio_Z="70.0 71.25 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 5" />
  <tubs name="BCL6" Rio_Z="71.25 72.5 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 6" />
  <tubs name="BCL7" Rio_Z="72.5 73.75 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 7" />
  <tubs name="BCL8" Rio_Z="73.75 75.0 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 8" />
  <tubs name="BCL9" Rio_Z="75.0 78.75 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 9" />
  <tubs name="BL10" Rio_Z="78.75 82.5 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 10" />
  <tubs name="BL11" Rio_Z="82.5 86.25 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 11" />
  <tubs name="BL12" Rio_Z="86.25 90.0 390.0" profile="0 7.5"
                    unit_length="cm" unit_angle="deg"
                    material="Air" comment="barrel EMcal module ring 12" />

  <tubs name="BCM1" Rio_Z="65.0 66.25 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 1" />
  <tubs name="BCM2" Rio_Z="66.25 67.5 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 2" />
  <tubs name="BCM3" Rio_Z="67.5 68.75 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 3" />
  <tubs name="BCM4" Rio_Z="68.75 70.0 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true" 
                          comment="barrel EMcal submodule in ring 4" />
  <tubs name="BCM5" Rio_Z="70.0 71.25 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 5" />
  <tubs name="BCM6" Rio_Z="71.25 72.5 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 6" />
  <tubs name="BCM7" Rio_Z="72.5 73.75 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 7" />
  <tubs name="BCM8" Rio_Z="73.75 75.0 390.0" profile="0 1.875"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 8" />
  <tubs name="BCM9" Rio_Z="75.0 78.75 390.0" profile="0 2.5"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 9" />
  <tubs name="BM10" Rio_Z="78.75 82.5 390.0" profile="0 2.5"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 10" />
  <tubs name="BM11" Rio_Z="82.5 86.25 390.0" profile="0 2.5"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 11" />
  <tubs name="BM12" Rio_Z="86.25 90.0 390.0" profile="0 2.5"
                    unit_length="cm" unit_angle="deg"
                    material="leadScint" sensitive="true"
                          comment="barrel EMcal submodule in ring 12" />


  <parameters name="barrelEMcal_pars" type="mcfast">
    <real_array name="rmin"	comment="upstream, downstream end inner radius"
 				values="   65.0      65.0"
				unit="cm" 	/>
    <real_array name="rmax"	comment="upstream, downstream end outer radius"
                                values="   90.0      90.0"
				unit="cm" 	/>
    <real       name="z0"	value="212.0"	comment="z coord. of midplane"
				unit="cm"	/>
    <real       name="zlen"	value="390.0"	comment="length of counters"
				unit="cm"	/>
    <reference  name="material"	value="leadScint" />
    <reference  name="active"	value="leadScint" />
    <int	name="nphi"	value="48"	comment="phi segmentation" />
    <int	name="neta"	value="1"	comment="longitudinal seg" />
    <int	name="nlayers"	value="1"	comment="radial segmentation" />
    <real       name="siga_em"	value="0.06"	comment="rootE coefficient"
				unit="cm"	/>
    <real       name="sigb_em"	value="0.01"	comment="floor term"
				unit="cm"	/>
    <real       name="siga_had"	value="0.30"	comment="rootE coefficient"
				unit="cm"	/>
    <real       name="sigb_had"	value="0.03"	comment="floor term"
				unit="cm"	/>
    <real       name="em_had_ratio" value="4.0" comment="response ratio"
				unit="cm"	/>
  </parameters>

  <mcfast model="EMCal" template="db/emcal.db" parameters="barrelEMcal_pars">
    <string     name="name"	value="BCAL"	/>
    <string     name="shape"	value="TUBE"	/>
    <int	name="type"	value="1"	/>
  </mcfast>

</section>

<!-- </HDDS> -->
