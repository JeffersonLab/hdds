<?xml version="1.0" encoding="UTF-8"?>
<!--DOCTYPE HDDS>

  Hall D Geometry Data Base: Target
  **********************************

     version 1.0: Initial version	-rtj
     version 2.1: updates for compatibility with geant4 -rtj
                  a) Eliminate redundant planes from TARM volume.
 
<HDDS specification="v1.0" xmlns="http://www.gluex.org/hdds">
-->

<section name        = "Target"
         version     = "2.1"
         date        = "2006-11-22"
         author      = "R.T. Jones"
         top_volume  = "TARG"
         specification = "v1.0">


<!-- Origin of Target is the center of the entrance window to the
     liquid hydrogen target - not the start of the vacuum vessel.  -->

  <composition name="Target">
    <posXYZ volume="targetSupportArm" X_Y_Z="0. 0. -11.1"/>
    <posXYZ volume="targetVessel" X_Y_Z="0. 0. 15.0" />
  </composition>

  <composition name="targetSupportArm" envelope="TARM">
   <posXYZ volume="TGBM" X_Y_Z="0. 0. 0."/>
   <posXYZ volume="TargetFlange" X_Y_Z="0. 0. -54.96" />
  </composition>

 <pcon name="TARM" material="Air"> 
    <polyplane Rio_Z="0.0 12.65 -100.0" />
    <polyplane Rio_Z="0.0 12.65 -52.4" />
    <polyplane Rio_Z="0.0 8.5 -52.4" />
    <polyplane Rio_Z="0.0 8.5 -35.2" />
    <polyplane Rio_Z="0.0 7.9 -29.2" />
    <polyplane Rio_Z="0.0 7.9 -4.0"/>
    <polyplane Rio_Z="0.0 6.9 -4.0"/>
    <polyplane Rio_Z="0.0 6.9 1.0"/>
    <polyplane Rio_Z="0.0 4.0 5.0"/>
 </pcon>

 <pcon name="TGBM" material="Aluminum">
    <polyplane Rio_Z="8.2 8.5 -54.8" /> 
    <polyplane Rio_Z="8.2 8.5 -35.2" />
    <polyplane Rio_Z="7.6 7.9 -29.2" />
    <polyplane Rio_Z="7.6 7.9 -5.0" />
    <polyplane Rio_Z="6.6 7.9 -5.0"/>
    <polyplane Rio_Z="6.6 7.9 -4.0"/>
    <polyplane Rio_Z="6.6 6.9 -4.0"/>
    <polyplane Rio_Z="6.6 6.9 1.0"/>
    <polyplane Rio_Z="3.7 4.0 5.0"/> 
  </pcon>

 <composition name="TargetFlange" envelope="TGFL">
    <posXYZ volume="TGF1" X_Y_Z="0. 0. 1.27" />
    <posXYZ volume="TGF2" X_Y_Z="0. 0. -1.27" />
 </composition>

 <tubs name="TGFL" Rio_Z="8.5 12.65 5.08" material="Air"
             comment="Mother volume for flange near target"/>
 <tubs name="TGF1" Rio_Z="8.5 12.65 2.54" material="Aluminum" />
 <tubs name="TGF2" Rio_Z="10.1 12.65 2.54" material="Aluminum" />

  <composition name="targetVessel" envelope="TARG">
    <posXYZ volume="CYLW" X_Y_Z="0. 0. 0." />
    <posXYZ volume="UWIT" X_Y_Z="0. 0. -21.0965"/>
    <posXYZ volume="DWIT" X_Y_Z="0. 0. +21.0965"/>
    <posXYZ volume="UFLT" X_Y_Z="0. 0. -20.85"/>
    <posXYZ volume="DFLT" X_Y_Z="0. 0. +20.60"/>
    <posXYZ volume="targetTube" X_Y_Z="0. 0. 0.0" />
  </composition>

  <composition name="targetTube" envelope="TGTV">
    <posXYZ volume="LIH2" X_Y_Z="0. 0. 0."/>
  </composition>

  <tubs name="TARG" Rio_Z="0.00 4.70 42.2" material="Vacuum"
	                        comment="target vessel mother volume" />
  <tubs name="TGTV" Rio_Z="0.00 1.515 30.030" material="Kapton"
	                        comment="target cell"      />
  <tubs name="LIH2" Rio_Z="0.00 1.500 30.000" material="LiqHydrogen"
	                        comment="target contents"  />
  <tubs name="CYLW" Rio_Z="3.70 4.70 42.2" material="HighDensityROHACELL"
				comment="target vessel cylindrical wall"  />
  <tubs name="UFLT" Rio_Z="2.00 3.70 0.5" material="Aluminum"
				comment="target vessel entrance flange"  />
  <tubs name="DFLT" Rio_Z="2.00 3.70 1.0" material="HighDensityROHACELL"
				comment="target vessel exit flange"  />
  <tubs name="UWIT" Rio_Z="0.00 2.00 0.007" material="Aluminum"
				comment="target vessel entrance window"   />
  <tubs name="DWIT" Rio_Z="0.00 2.00 0.007" material="Aluminum"
                                comment="target vessel exit window" />

  <!-- The following elements describe an early rendition of the GlueX
       detector simulated using a fast Monte Carlo program MCFast.  They
       are retained for future reference, do not rely on their values. -->

  <parameters name="targetTube_pars" type="mcfast">
    <real name="rmin" value="0.00"  unit="cm" comment="inner radius" />
    <real name="rmax" value="9.50"  unit="cm" comment="outer radius" />
    <real name="z0"   value="1.50" unit="cm" comment="from origin"  />
    <real name="zlen" value="183.5" unit="cm" comment="cover the target" />
    <reference name="mat_fill" value="Vacuum"  comment="what fills the pipe" />
    <real_array name="bndrthk" comment="innner outer upstream downstream
           wall thicknesses" values="0.00   0.10   0.00      0.00"
                             unit="cm" />
    <reference_vector name="matrbnd"    comment="window materials"   >
      <reference_data value="Vacuum"    comment="inner wall??"      />
      <reference_data value="Beryllium" comment="outer wall"        />
      <reference_data value="Vacuum"    comment="upstream window"   />
      <reference_data value="Vacuum"    comment="downstream window" />
    </reference_vector>
  </parameters>

  <parameters name="target_pars" type="mixed">
    <real_array name="xyz" values="0.   0.   65." comment="center of target"
                           unit="cm" />
    <real_array name="sig" values="0.30 0.30 15." comment="size of target"
                           unit="cm" />
    <real name="rmax"      value="2.50"  comment="radius of target vessel"
                           unit="cm" />
    <real name="zlen"      value="30.0"  comment="length of target vessel"
                           unit="cm" />
    <reference name="mat_fill" value="LiqHydrogen" comment="target material" />
    <real_array name="bndrthk" comment="cylinder upstream downstream
           wall thicknesses"   values="0.02     0.02      0.02"
                               unit="cm" />
    <reference_vector name="matrbnd"   comment="target vessel materials">
      <reference_data value="Aluminum" comment="cylinder wall"     />
      <reference_data value="Aluminum" comment="upstream window"   />
      <reference_data value="Aluminum" comment="downstream window" />
    </reference_vector>
  </parameters>

  <mcfast model="BPipe" template="db/beampipe.db"
			parameters="targetTube_pars">
    <string name="name" value="beam"  />
  </mcfast>

  <mcfast model="BeamVrtx" template="db/beamvrtx.db" parameters="target_pars">
  </mcfast>

</section>

<!-- </HDDS> -->
