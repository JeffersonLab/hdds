<?xml version="1.0" encoding="UTF-8"?>
<!--DOCTYPE HDDS>

  Hall D Geometry Data Base: Pair Spectrometer
  ********************************************

     version 1.0: Initial version
     version 2.0: Substantial changes by S. Taylor
 
<HDDS specification="v1.0" xmlns="http://www.gluex.org/hdds">
-->

<section name        = "PairSpectrometer"
         version     = "2.0"
         date        = "2014-09-09"
         author      = "A.Somov"
         top_volume  = "HALL"
         specification = "v1.0">


<!-- Origin of PairSpectrometer is center of the hall.
     The pair spectrometer is situated in the detector hall 
     after the collimator cave. The pair spectrometer converter
     is defined in the BeamLine_HDDS.xml file, in the volume PTAR.
-->


  <composition name="PairSpectrometer">
    <posXYZ volume="PairMagnet"    X_Y_Z="0.0   0.0   -247.9" />
    <!--posXYZ volume="MagnetLead"    X_Y_Z="0.0   0.0   114.25" /-->
    <posXYZ volume="PairVacChamb"  X_Y_Z="0.0   0.0   -115.6447" />
    <posXYZ volume="PairHodoscope" X_Y_Z="0.0   0.0   242.45" />
    <posXYZ volume="PairPipe2"     X_Y_Z="0.0   0.0   31.3271"/> 
    <!--posXYZ volume="PairShielding" X_Y_Z="0.0   0.0   116.32" /-->
    <posXYZ volume="PairSEGblocks" X_Y_Z="0.0   0.0   128.82" />
  </composition >
	

<!-- Vacuum Pipe 1 -->

  <composition name="PairPipe1" envelope="HPO1" >
    <posXYZ volume="HPI1" X_Y_Z="0.0 0.0 0.0"/> 
  </composition>

  <tubs name="HPO1" Rio_Z="0.0  1.905  6.096" material="Iron" /> 
  <tubs name="HPI1" Rio_Z="0.0  1.74  6.096" material="Vacuum" />

<!-- Pair Spectrometer Magnet -->

  <composition name="PairMagnet">
    <posXYZ volume="EffectRegion" X_Y_Z="0.0 0.0  0.0"/> 
  </composition>

  <composition name="EffectRegion" envelope="MAG3">
    <posXYZ volume="PairPipe1"     X_Y_Z="0.0   0.0  -63.373"/>
    <posXYZ volume="POL3" X_Y_Z="0.0 +29.591  1.0" />
    <posXYZ volume="POL3" X_Y_Z="0.0 -29.591  1.0" />
    <posXYZ volume="GAP3" X_Y_Z="+75.2475 0.0 1.0" />
    <posXYZ volume="GAP3" X_Y_Z="-75.2475 0.0 1.0" />
    <posXYZ volume="PairUpstrVacFlange1" X_Y_Z="0. 0. -59.69"/>
    <posXYZ volume="PairUpstreamVacChamb" X_Y_Z="0 0 2.794" />
    <posXYZ volume="PairUpstrVacFlange2" X_Y_Z="0. 0. 65.532"/>
  </composition>

  <box name="MAG3" X_Y_Z="209.55  110.744 132.842" material="Air" >
    <apply region="PairBfield" /> 
  </box> 
  <box name="POL3" X_Y_Z="209.55  51.562  91.44" material="Iron" />
  <box name="GAP3" X_Y_Z="59.055   7.62   91.44" material="Iron" />

  <composition name="PairUpstrVacFlange1" envelope="PFO1">
    <posXYZ volume="PFI1"/>
  </composition>

  <box name="PFO1" X_Y_Z="10.16 6.6548 1.27" material="Iron"/>
  <tubs name="PFI1" Rio_Z="0.0 1.74625 1.27" material="Vacuum"/>

  <composition name="PairUpstrVacFlange2" envelope="PFO2">
    <posXYZ volume="PFI2"/>
  </composition>

  <box name="PFO2" X_Y_Z="52.832 13.97 1.778" material="Iron"/>
  <box name="PFI2" X_Y_Z="44.036 5.08  1.778" material="Vacuum"/>

  <composition name="PairUpstreamVacChamb" envelope="PCO2">
    <posXYZ volume="PCI2"/>
  </composition>
  
  <trd name="PCO2" Xmp_Ymp_Z="10.137 45.545 6.6548 6.6548 123.698" material="Iron"/>
  <trd name="PCI2" Xmp_Ymp_Z="8.509 43.917 5.08 5.08 123.698" material="Vacuum"/>

  <trd name="PCO1" Xmp_Ymp_Z="45.545 113.134 6.6548 6.6548 128.143" material="Iron"/>
  <trd name="PCI1" Xmp_Ymp_Z="43.917 111.506  5.08 5.08 128.143" material="Vacuum"/>
  
<!-- MagnetLead -->

  <composition name="MagnetLead">
    <posXYZ volume="VCL1" X_Y_Z="+50.9 0.0 0.0" />
    <posXYZ volume="VCL1" X_Y_Z="-50.9 0.0 0.0" />
  </composition>

  <box name="VCL1" X_Y_Z="20.0 10.0 10.0" material="Lead" />


<!-- Pair Spectrometer Vacuum Chamber -->

  <composition name="PairVacChamb">
    <posXYZ volume="VacFlange3" X_Y_Z="0.0 0.0 -64.9605" />
    <posXYZ volume="VacTRD" X_Y_Z="0.0 0.0 0.0" />
    <posXYZ volume="VacSidePlane" X_Y_Z="0.0 0.0 65.024" /> 
    <posXYZ volume="VacSideClamp" X_Y_Z="30.83 0.0 66.6115"/>
    <posXYZ volume="VacSideClamp" X_Y_Z="-30.83 0.0 66.6115"/>
  </composition>

  <composition name="VacSideClamp" envelope="PWCO">
    <posXYZ volume="PWCI"/>
  </composition>
  
  <box name="PWCO" X_Y_Z="57.4218 13.2842 1.27" material="Iron"/>
  <box name="PWCI" X_Y_Z="49.8475 5.08 1.27" material="Air"/>

  <composition name="VacTRD" envelope="PCO1">
    <posXYZ volume="PCI1" X_Y_Z="0.0 0.0 0.0" />
  </composition>

  <composition name="VacFlange3" envelope="PFO3">
    <posXYZ volume="PFI3"/>
  </composition>

  <box name="PFO3" X_Y_Z="52.8066 13.97 1.778" material="Iron"/>
  <box name="PFI3" X_Y_Z="43.9166 5.08  1.778" material="Vacuum"/>


  <composition name="VacSidePlane" envelope="VSPL">
    <posXYZ volume="VHB1" X_Y_Z="+30.83  0.0 -0.0125" />
    <posXYZ volume="VBW1" X_Y_Z="+30.83  0.0  0.940" />
    <posXYZ volume="VHB1" X_Y_Z="-30.83  0.0 -0.0125" />
    <posXYZ volume="VBW1" X_Y_Z="-30.83  0.0  0.940" />
    <posXYZ volume="VVPH" X_Y_Z=" +0.0 0.0  0.0" />
  </composition>

  <box name="VSPL" X_Y_Z="119.964 13.284 1.905" material="Iron" />
  <box name="VHB1" X_Y_Z="49.8475 5.08  1.88" material="Vacuum" />
  <box name="VBW1" X_Y_Z="49.8475 5.08  0.025" material="Kapton" />


  <box name="VHB2" X_Y_Z="62.0   3.4  0.575" material="Vacuum" />
  <box name="VBW2" X_Y_Z="62.0   3.4  0.025" material="Kapton" />

  <tubs name="VVPH" Rio_Z="0.0 1.74625 1.905" material="Vacuum"/>

<!-- Hodoscope Counters -->

  <composition name="PairHodoscope">
<!-- At the momenent we use 24 FSF counters (for positrons) and 
 6 WSF counters (for electrons). All FSF counters are tilted by 
 the same angle -15 deg.  -->

    <posXYZ volume="FF01"  X_Y_Z="-74.802  0.0  0.122"  rot="0  -15.  0"/>
    <posXYZ volume="FF02"  X_Y_Z="-73.696  0.0  0.118"  rot="0  -15.  0"/> 
    <posXYZ volume="FF03"  X_Y_Z="-72.624  0.0  0.113"  rot="0  -15.  0"/> 
    <posXYZ volume="FF04"  X_Y_Z="-71.588  0.0  0.109"  rot="0  -15.  0"/>
    <posXYZ volume="FF05"  X_Y_Z="-70.578  0.0  0.107"  rot="0  -15.  0"/> 
    <posXYZ volume="FF06"  X_Y_Z="-69.592  0.0  0.103"  rot="0  -15.  0"/>
    <posXYZ volume="FF07"  X_Y_Z="-68.636  0.0  0.099"  rot="0  -15.  0"/>
    <posXYZ volume="FF08"  X_Y_Z="-67.705  0.0  0.097"  rot="0  -15.  0"/>
    <posXYZ volume="FF09"  X_Y_Z="-66.799  0.0  0.093"  rot="0  -15.  0"/>
    <posXYZ volume="FF0a"  X_Y_Z="-65.918  0.0  0.091"  rot="0  -15.  0"/>
    <posXYZ volume="FF0b"  X_Y_Z="-65.062  0.0  0.087"  rot="0  -15.  0"/>
    <posXYZ volume="FF0c"  X_Y_Z="-64.232  0.0  0.084"  rot="0  -15.  0"/>
    <posXYZ volume="FF0d"  X_Y_Z="-63.421  0.0  0.082"  rot="0  -15.  0"/>
    <posXYZ volume="FF0e"  X_Y_Z="-62.630  0.0  0.079"  rot="0  -15.  0"/>
    <posXYZ volume="FF0f"  X_Y_Z="-61.860  0.0  0.077"  rot="0  -15.  0"/>
    <posXYZ volume="FF10"  X_Y_Z="-61.109  0.0  0.074"  rot="0  -15.  0"/>
    <posXYZ volume="FF11"  X_Y_Z="-60.374  0.0  0.073"  rot="0  -15.  0"/>
    <posXYZ volume="FF12"  X_Y_Z="-59.653  0.0  0.071"  rot="0  -15.  0"/>
    <posXYZ volume="FF13"  X_Y_Z="-58.952  0.0  0.068"  rot="0  -15.  0"/>
    <posXYZ volume="FF14"  X_Y_Z="-58.267  0.0  0.067"  rot="0  -15.  0"/>
    <posXYZ volume="FF15"  X_Y_Z="-57.596  0.0  0.064"  rot="0  -15.  0"/>
    <posXYZ volume="FF16"  X_Y_Z="-56.941  0.0  0.063"  rot="0  -15.  0"/>
    <posXYZ volume="FF17"  X_Y_Z="-56.300  0.0  0.061"  rot="0  -15.  0"/>
    <posXYZ volume="FF18"  X_Y_Z="-55.675  0.0  0.059"  rot="0  -15.  0"/>

    <posXYZ volume="WF19"    X_Y_Z="69.397  0.0  0.15" rot="0  16.  0"/>
    <posXYZ volume="WF1a"    X_Y_Z="52.330  0.0  0.05" rot="0  12.  0"/>
    <posXYZ volume="WF1b"    X_Y_Z="42.019  0.0  0.0"  rot="0  10.  0"/>
    <posXYZ volume="WF1c"    X_Y_Z="35.207  0.0  0.0"  rot="0  8.   0"/>
    <posXYZ volume="WF1d"    X_Y_Z="30.292  0.0  0.0"  rot="0  7.   0"/>
    <posXYZ volume="WF1e"    X_Y_Z="26.581  0.0  0.0"  rot="0  6.   0"/>
  </composition>

  <box  name="FF01" X_Y_Z="1.072  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF02" X_Y_Z="1.043  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF03" X_Y_Z="1.005  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF04" X_Y_Z="0.976  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF05" X_Y_Z="0.956  3.0  0.5" material="Scintillator" sensitive="true" /> 
  <box  name="FF06" X_Y_Z="0.927  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF07" X_Y_Z="0.898  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF08" X_Y_Z="0.879  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF09" X_Y_Z="0.850  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0a" X_Y_Z="0.831  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0b" X_Y_Z="0.802  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0c" X_Y_Z="0.782  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0d" X_Y_Z="0.763  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0e" X_Y_Z="0.744  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF0f" X_Y_Z="0.724  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF10" X_Y_Z="0.705  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF11" X_Y_Z="0.696  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF12" X_Y_Z="0.676  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF13" X_Y_Z="0.657  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF14" X_Y_Z="0.647  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF15" X_Y_Z="0.628  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF16" X_Y_Z="0.618  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF17" X_Y_Z="0.599  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="FF18" X_Y_Z="0.589  3.0  0.5" material="Scintillator" sensitive="true" />

  <box  name="WF19" X_Y_Z="1.31  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="WF1a" X_Y_Z="0.75  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="WF1b" X_Y_Z="0.54  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="WF1c" X_Y_Z="0.35  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="WF1d" X_Y_Z="0.25  3.0  0.5" material="Scintillator" sensitive="true" />
  <box  name="WF1e" X_Y_Z="0.20  3.0  0.5" material="Scintillator" sensitive="true" /> 
 

<!-- Vacuum Pipe 2 -->

  <composition name="PairPipe2" envelope="HPO2" >
    <posXYZ volume="HPI2" X_Y_Z="0.0 0.0 0.0"/> 
  </composition>

  <tubs name="HPO2" Rio_Z="0.0  1.905  162.0   " material="Iron" /> 
  <tubs name="HPI2" Rio_Z="0.0  1.74625  162.0   " material="Vacuum"/>

<!--Pair Lead Shielding -->

  <composition name="PairShielding" envelope="PSHL">
    <posXYZ volume="PairShieldHole" X_Y_Z="0.0 0.0 0.0"/>
  </composition>

  <composition name="PairShieldHole" envelope="OPSH">
    <posXYZ volume="IPSH" X_Y_Z="0.0 0.0 0.0"/>
  </composition>

  <box  name="PSHL" X_Y_Z="220.0  30.0  10.0" material="Lead" />
  <tubs name="OPSH" Rio_Z="0.0    2.54  10.0" material="Iron"/> 
  <tubs name="IPSH" Rio_Z="0.0    2.38  10.0" material="Vacuum"/> 

<!-- Pair spectrometer shielding SEG blocks. The properties of material of the SEG 
                       block are very close to Iron.
-->

  <composition name="PairSEGblocks" envelope="PCON">
    <posXYZ volume="PairSEGHole" X_Y_Z="0.0 0.0 0.0"/>
  </composition>

  <composition name="PairSEGHole" envelope="OPCO">
    <posXYZ volume="IPCO" X_Y_Z="0.0 0.0 0.0"/>
  </composition>

  <box  name="PCON" X_Y_Z="396.24  66.04  33.0" material="Iron" />
  <tubs name="OPCO" Rio_Z="0.0     2.54   33.0" material="Iron"/> 
  <tubs name="IPCO" Rio_Z="0.0     2.38   33.0" material="Vacuum"/> 


</section>

<!-- </HDDS> -->
